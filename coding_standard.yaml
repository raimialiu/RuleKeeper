# =============================================================================
# RuleKeeper Coding Standards Configuration
# Based on Parallex Bank IT Coding Standards & API Policy Document
# =============================================================================
# This configuration enforces all coding standards defined in the Parallex Bank
# IT Coding Standards document, plus additional industry best practices.
# =============================================================================

version: "1.0"

# =============================================================================
# METADATA
# =============================================================================
metadata:
  name: "Parallex Bank IT Coding Standards"
  description: "Comprehensive coding standards based on Parallex Bank IT policy"
  author: "Parallex Bank IT Department"
  created: "2024-01-01"
  updated: "2024-01-26"

# =============================================================================
# SCAN CONFIGURATION
# =============================================================================
scan:
  languages:
    - csharp
    - python
    - javascript
    - typescript
    - java
    - go

  include:
    - "src/**/*"
    - "Features/**/*"         # Parallex standard: group by feature
    - "api/**/*"
    - "services/**/*"

  exclude:
    - "**/node_modules/**"
    - "**/bin/**"
    - "**/obj/**"
    - "**/dist/**"
    - "**/build/**"
    - "**/target/**"
    - "**/vendor/**"
    - "**/*.generated.cs"
    - "**/*.Designer.cs"
    - "**/Migrations/**"
    - "**/__pycache__/**"
    - "**/venv/**"
    - "**/.venv/**"

  parallel: true
  cache: true

  language_settings:
    csharp:
      include: ["**/*.cs"]
      exclude: ["**/obj/**", "**/bin/**", "**/*.Designer.cs"]
      use_project_files: true

    python:
      include: ["**/*.py"]
      exclude: ["**/venv/**", "**/.venv/**", "**/__pycache__/**"]

    typescript:
      include: ["**/*.ts", "**/*.tsx"]
      exclude: ["**/node_modules/**", "**/dist/**", "**/*.d.ts"]
      tsconfig_path: "./tsconfig.json"

    javascript:
      include: ["**/*.js", "**/*.jsx", "**/*.mjs"]
      exclude: ["**/node_modules/**", "**/dist/**", "**/*.min.js"]

    java:
      include: ["**/*.java"]
      exclude: ["**/target/**", "**/build/**"]

    go:
      include: ["**/*.go"]
      exclude: ["**/vendor/**"]

# =============================================================================
# OUTPUT CONFIGURATION
# =============================================================================
output:
  format: console
  min_severity: info
  fail_on: high
  show_code: true
  show_hints: true
  colors: true
  visualization: true
  show_table: true
  critical_threshold: 0
  high_threshold: 5
  total_threshold: 100
  threshold_percentage: 5.0

# =============================================================================
# CODING STANDARDS
# =============================================================================
coding_standards:

  # ===========================================================================
  # SECTION 1: NAMING CONVENTIONS
  # Parallex: "Classes/Interfaces → PascalCase, Methods → PascalCase,
  #           Variables/Fields/Parameters → camelCase, Constants → UPPER_SNAKE_CASE,
  #           Private fields → _camelCase, Async methods → End with Async,
  #           Interfaces → Prefix with I"
  # ===========================================================================
  naming_conventions:
    enabled: true
    severity: medium
    rules:

      class_naming:
        id: CS-NAME-001
        name: "Class Naming Convention"
        description: "Classes must use PascalCase naming"
        enabled: true
        severity: error
        parameters:
          pattern: "^[A-Z][a-zA-Z0-9]*$"
          allow_underscores: false
        message: "Class '{0}' does not follow PascalCase naming convention"
        fix_hint: "Rename to PascalCase (e.g., 'UserManager' not 'userManager')"

      method_naming:
        id: CS-NAME-002
        name: "Method Naming Convention"
        description: "Methods must use PascalCase naming"
        enabled: true
        severity: error
        parameters:
          style: pascal_case
        message: "Method '{0}' does not follow PascalCase naming convention"
        fix_hint: "Rename to PascalCase (e.g., 'GetAccountBalance' not 'getAccountBalance')"

      async_method_naming:
        id: CS-NAME-003
        name: "Async Method Naming"
        description: "Async methods should end with 'Async' suffix"
        enabled: true
        severity: warning
        parameters:
          require_suffix: true
          exclude_event_handlers: true
        message: "Async method '{0}' should end with 'Async' suffix"
        fix_hint: "Rename '{0}' to '{0}Async'"

      private_field_naming:
        id: CS-NAME-004
        name: "Private Field Naming"
        description: "Private fields should use _camelCase with underscore prefix"
        enabled: true
        severity: warning
        parameters:
          prefix: "_"
          style: camel_case
        message: "Private field '{0}' should start with underscore and use camelCase"
        fix_hint: "Rename to '_camelCase' (e.g., '_accountRepository')"

      property_naming:
        id: CS-NAME-005
        name: "Property Naming Convention"
        description: "Properties must use PascalCase naming"
        enabled: true
        severity: medium
        parameters:
          style: pascal_case

      constant_naming:
        id: CS-NAME-006
        name: "Constant Naming Convention"
        description: "Constants should use UPPER_SNAKE_CASE"
        enabled: true
        severity: warning
        parameters:
          style: upper_snake_case

      interface_naming:
        id: CS-NAME-007
        name: "Interface Naming Convention"
        description: "Interfaces must start with 'I' prefix and use PascalCase"
        enabled: true
        severity: error
        parameters:
          pattern: "^I[A-Z][a-zA-Z0-9]*$"
        message: "Interface '{0}' must start with 'I' prefix"
        fix_hint: "Rename to 'I{0}'"

  # ===========================================================================
  # SECTION 2: FILE AND PROJECT ORGANIZATION
  # Parallex: "One class per file, File name matches class name,
  #           Group logically by feature, not layer (use vertical slicing)"
  # ===========================================================================
  file_organization:
    enabled: true
    severity: low
    rules:

      multiple_classes_per_file:
        id: CS-DESIGN-012
        name: "Multiple Classes Per File"
        description: "Each file should contain only one class"
        enabled: true
        severity: warning
        parameters:
          allow_nested: true
          allow_private: true
          max_classes: 1
        message: "File contains multiple classes. Class '{0}' should be in its own file"
        fix_hint: "Move '{0}' to a file named '{0}.cs'"

  # ===========================================================================
  # SECTION 3: METHOD DESIGN & READABILITY
  # Parallex: "Methods should be small and do one thing.
  #           Keep method length ≤ 30 lines.
  #           Avoid long parameter lists (use DTOs)."
  # ===========================================================================
  method_design:
    enabled: true
    severity: medium
    rules:

      method_length:
        id: CS-DESIGN-001
        name: "Method Length"
        description: "Methods should not exceed 30 lines per Parallex standard"
        enabled: true
        severity: error
        parameters:
          max_lines: 30
          count_blank_lines: false
          count_comments: false
        message: "Method '{0}' has {1} lines (max: 30 per Parallex standard)"
        fix_hint: "Extract logic into smaller, focused methods"

      parameter_count:
        id: CS-DESIGN-002
        name: "Parameter Count"
        description: "Methods should not have too many parameters"
        enabled: true
        severity: warning
        parameters:
          max_parameters: 4
          exclude_constructors: false
        message: "Method '{0}' has {1} parameters (max: 4)"
        fix_hint: "Consider using a DTO/options object (e.g., TransferRequest)"

      cyclomatic_complexity:
        id: CS-DESIGN-003
        name: "Cyclomatic Complexity"
        description: "Methods should have low cyclomatic complexity for testability"
        enabled: true
        severity: warning
        parameters:
          max_complexity: 10
        message: "Method '{0}' has complexity {1} (max: 10)"
        fix_hint: "Reduce complexity by extracting methods or using polymorphism"

      cognitive_complexity:
        id: CS-CODE-008
        name: "Cognitive Complexity"
        description: "Methods should not be too cognitively complex"
        enabled: true
        severity: medium
        parameters:
          max_complexity: 15
        message: "Method '{0}' has cognitive complexity of {1} (max: 15)"
        fix_hint: "Simplify logic, reduce nesting, extract helper methods"

      class_length:
        id: CS-DESIGN-004
        name: "Class Length"
        description: "Classes should not be too long (SRP violation)"
        enabled: true
        severity: warning
        parameters:
          max_lines: 300
          count_blank_lines: false
          count_comments: false

      # NEW RULES - Not in original but critical for code quality
      max_nesting_depth:
        id: CS-DESIGN-005
        name: "Max Nesting Depth"
        description: "Code should not have too many levels of nesting"
        enabled: true
        severity: error
        parameters:
          max_depth: 3
          count_try_catch: true
          count_switch: true
        message: "Nesting depth of {0} exceeds maximum of 3"
        fix_hint: "Use guard clauses (early returns), extract methods, or flatten logic"

      nested_conditionals:
        id: CS-DESIGN-006
        name: "Nested Conditionals"
        description: "Avoid deeply nested if statements (max 2 levels)"
        enabled: true
        severity: error
        parameters:
          max_nested_ifs: 2
          count_else_if: false
        message: "Nested if depth of {0} exceeds maximum of 2"
        fix_hint: "Use guard clauses, extract methods, or combine conditions"

      nested_loops:
        id: CS-DESIGN-007
        name: "Nested Loops"
        description: "Avoid nested loops which can cause O(n²) complexity"
        enabled: true
        severity: error
        parameters:
          max_nested_loops: 1
          allow_linq: true
        message: "Nested loop detected - may cause O(n²) complexity"
        fix_hint: "Use Dictionary/HashSet for lookups, LINQ methods, or extract to method"

      god_class:
        id: CS-DESIGN-011
        name: "God Class"
        description: "Classes should not have too many methods or fields"
        enabled: true
        severity: warning
        parameters:
          max_methods: 20
          max_fields: 15
          max_properties: 20
        message: "Class may be a God Class - violates Single Responsibility Principle"
        fix_hint: "Split into smaller, focused classes"

      file_length:
        id: CS-DESIGN-010
        name: "File Length"
        description: "Files should not exceed 500 lines"
        enabled: true
        severity: warning
        parameters:
          max_lines: 500
          count_blank_lines: true
          count_comments: true

  # ===========================================================================
  # SECTION 4: SECURE CODING PRACTICES
  # Parallex: "Never concatenate SQL or user inputs → use parameterized queries.
  #           Always validate user input. Sanitize logs — no sensitive data.
  #           Use SecureString or data masking for secrets.
  #           Protect configuration via Azure Key Vault or AWS Secrets Manager."
  # ===========================================================================
  security:
    enabled: true
    severity: critical
    rules:

      sql_injection:
        id: CS-SEC-001
        name: "SQL Injection Prevention"
        description: "Detect potential SQL injection vulnerabilities"
        enabled: true
        severity: critical
        message: "Potential SQL injection: SQL query built with string concatenation"
        fix_hint: "Use parameterized queries: cmd.Parameters.AddWithValue(\"@id\", id)"

      hardcoded_secrets:
        id: CS-SEC-002
        name: "Hardcoded Secrets Detection"
        description: "Detect hardcoded passwords, API keys, and tokens"
        enabled: true
        severity: critical
        message: "Hardcoded secret detected"
        fix_hint: "Use Azure Key Vault, environment variables, or secrets manager"

      xss_prevention:
        id: CS-SEC-003
        name: "XSS Prevention"
        description: "Detect potential cross-site scripting vulnerabilities"
        enabled: true
        severity: critical
        parameters:
          check_raw_html: true
          check_html_string: true

      path_traversal:
        id: CS-SEC-004
        name: "Path Traversal Prevention"
        description: "Detect potential path traversal vulnerabilities"
        enabled: true
        severity: critical
        parameters:
          check_file_operations: true
          check_path_combine: true

      sensitive_logging:
        id: CS-SEC-005
        name: "Sensitive Data Logging"
        description: "Detect logging of sensitive information (PIN, password, token)"
        enabled: true
        severity: error
        parameters:
          sensitive_fields:
            - password
            - pin
            - cvv
            - ssn
            - credit_card
            - card_number
            - account_number
            - secret
            - token
            - private_key
            - api_key
            - bearer
            - auth_token

  # ===========================================================================
  # SECTION 5: EXCEPTION HANDLING & LOGGING
  # Parallex: "Use try–catch only where you can handle errors meaningfully.
  #           Log exceptions with context, but not sensitive data.
  #           Avoid empty catch blocks.
  #           Throw domain-specific exceptions when needed."
  # ===========================================================================
  exception_handling:
    enabled: true
    severity: high
    rules:

      empty_catch:
        id: CS-EXC-001
        name: "Empty Catch Block"
        description: "Catch blocks should not be empty"
        enabled: true
        severity: error
        parameters:
          allow_comment: true
        message: "Empty catch block detected"
        fix_hint: "Log the exception or handle it appropriately"

      catch_base_exception:
        id: CS-EXC-002
        name: "Catching Base Exception"
        description: "Avoid catching System.Exception directly"
        enabled: true
        severity: warning
        parameters:
          allow_in_top_level: true
          allow_rethrow: true
          allow_logging: true

      throw_in_finally:
        id: CS-EXC-003
        name: "Throw in Finally Block"
        description: "Avoid throwing exceptions in finally blocks"
        enabled: true
        severity: error

      exception_swallowing:
        id: CS-EXC-004
        name: "Exception Swallowing"
        description: "Caught exceptions should be logged or rethrown"
        enabled: true
        severity: error
        parameters:
          require_logging: true
          require_rethrow: false
        fix_hint: "Add logging: _logger.LogWarning(ex, \"Context message\")"

  # ===========================================================================
  # SECTION 6: ASYNCHRONOUS PROGRAMMING
  # Parallex: "Always await async calls.
  #           Don't block async with .Result or .Wait().
  #           Use ConfigureAwait(false) in libraries."
  # ===========================================================================
  async_best_practices:
    enabled: true
    severity: high
    rules:

      async_void:
        id: CS-ASYNC-001
        name: "No Async Void"
        description: "Async methods should not return void (except event handlers)"
        enabled: true
        severity: error
        parameters:
          allow_event_handlers: true
        message: "Async method '{0}' returns void. Use Task instead"
        fix_hint: "Change return type from 'async void' to 'async Task'"

      blocking_async:
        id: CS-ASYNC-002
        name: "Blocking Async Calls"
        description: "Avoid .Result, .Wait(), .GetAwaiter().GetResult() - causes deadlocks"
        enabled: true
        severity: critical
        parameters:
          allow_in_main: false
          allow_in_tests: false
        message: "Blocking call detected: {0}. This can cause deadlocks"
        fix_hint: "Use 'await' instead of .Result or .Wait()"

      configure_await:
        id: CS-ASYNC-003
        name: "ConfigureAwait Usage"
        description: "Library code should use ConfigureAwait(false)"
        enabled: true
        severity: info
        parameters:
          require_in_libraries: true
          exclude_asp_net: true

  # ===========================================================================
  # SECTION 7: DEPENDENCY INJECTION & SOLID PRINCIPLES
  # Parallex: "Depend on interfaces, not concrete types.
  #           Use built-in IServiceCollection or IoC containers.
  #           Avoid new inside business logic."
  # ===========================================================================
  dependency_injection:
    enabled: true
    severity: warning
    rules:

      concrete_type_injection:
        id: CS-DI-001
        name: "Concrete Type Injection"
        description: "Constructor parameters should use interfaces, not concrete types"
        enabled: true
        severity: warning
        parameters:
          check_constructor_params: true
          check_fields: true
          allowed_concrete_types:
            - ILogger
            - IConfiguration
            - HttpClient
            - IMemoryCache
            - CancellationToken
        message: "Injecting concrete type '{0}'. Use an interface instead"
        fix_hint: "Create interface I{0} and inject that instead"

      service_locator:
        id: CS-DI-002
        name: "Service Locator Anti-Pattern"
        description: "Avoid using service locator pattern"
        enabled: true
        severity: error
        parameters:
          detect_patterns:
            - GetService
            - GetRequiredService
            - Resolve
            - ServiceLocator
        message: "Service locator pattern detected. Use constructor injection"
        fix_hint: "Inject the dependency via constructor instead"

  # ===========================================================================
  # SECTION 8: CONSTANTS, MAGIC NUMBERS & ENUMS
  # Parallex: "Avoid magic numbers or strings in code.
  #           Use named constants or enums."
  # ===========================================================================
  magic_values:
    enabled: true
    severity: low
    rules:

      magic_numbers:
        id: CS-DESIGN-008
        name: "Magic Numbers"
        description: "Avoid magic numbers; use named constants instead"
        enabled: true
        severity: warning
        parameters:
          allowed_values: "-1,0,1,2"
          ignore_in_tests: true
          ignore_array_sizes: true
        message: "Magic number '{0}' should be replaced with a named constant"
        fix_hint: "Create a constant: private const int MEANINGFUL_NAME = {0};"

      magic_strings:
        id: CS-DESIGN-009
        name: "Magic Strings"
        description: "Avoid magic strings; use named constants instead"
        enabled: true
        severity: warning
        parameters:
          min_length: 3
          ignore_empty: true
          ignore_logging: true
          ignore_exceptions: true

  # ===========================================================================
  # SECTION 9 & 17: DATA VALIDATION / INPUT VALIDATION
  # Parallex: "Always validate input DTOs using attributes or FluentValidation.
  #           Validate both client and server side."
  # (API validation rules would be implemented in separate analyzer)
  # ===========================================================================

  # ===========================================================================
  # SECTION 10 & 25: LOGGING STANDARDS
  # Parallex: "Use structured logging.
  #           No sensitive data (PIN, password, token).
  #           Log at appropriate levels (Info, Warning, Error, Critical)."
  # (Covered by sensitive_logging rule in security section)
  # ===========================================================================

  # ===========================================================================
  # SECTION 12: IMMUTABILITY AND DEFENSIVE CODING
  # Parallex: "Use readonly for fields.
  #           Avoid exposing mutable collections.
  #           Clone or copy external data inputs."
  # ===========================================================================
  immutability:
    enabled: true
    severity: medium
    rules:

      public_fields:
        id: CS-DESIGN-013
        name: "Public Fields"
        description: "Public fields should be properties instead"
        enabled: true
        severity: warning
        parameters:
          allow_const: true
          allow_readonly: true
          allow_static_readonly: true
        message: "Public field '{0}' should be a property"
        fix_hint: "Convert to: public {type} {0} { get; set; }"

      mutable_collections:
        id: CS-DESIGN-016
        name: "Mutable Collections"
        description: "Public properties should not expose mutable collections"
        enabled: true
        severity: warning
        message: "Property '{0}' exposes mutable collection type"
        fix_hint: "Return IReadOnlyList<T>, IReadOnlyCollection<T>, or IEnumerable<T>"

  # ===========================================================================
  # SECTION 15: UNIT TESTING STANDARDS
  # Parallex: "Use clear test names: MethodName_StateUnderTest_ExpectedBehavior.
  #           One assertion per test. No dependency on external systems."
  # (Test-specific rules would be in separate analyzer)
  # ===========================================================================

  # ===========================================================================
  # ADDITIONAL DESIGN RULES
  # Common best practices not explicitly in Parallex document
  # ===========================================================================
  additional_design:
    enabled: true
    severity: medium
    rules:

      deep_inheritance:
        id: CS-DESIGN-014
        name: "Deep Inheritance"
        description: "Classes should not have deep inheritance hierarchies"
        enabled: true
        severity: warning
        parameters:
          max_depth: 3
          ignore_system_types: true
        message: "Class '{0}' has inheritance depth of {1} (max: 3)"
        fix_hint: "Consider using composition over inheritance"

      boolean_parameters:
        id: CS-DESIGN-015
        name: "Boolean Parameters"
        description: "Avoid boolean parameters; consider enums or separate methods"
        enabled: true
        severity: info
        parameters:
          max_bool_params: 1
          ignore_private: true
          allow_common_names: true
        message: "Method '{0}' has multiple boolean parameters"
        fix_hint: "Consider using an enum, options object, or separate methods"

  # ===========================================================================
  # CODE QUALITY RULES
  # Additional rules for code hygiene
  # ===========================================================================
  code_quality:
    enabled: true
    severity: warning
    rules:

      todo_comments:
        id: CS-CODE-001
        name: "TODO Comments"
        description: "Detects TODO, FIXME, HACK comments that should be addressed"
        enabled: true
        severity: info
        parameters:
          patterns: "TODO,FIXME,HACK,XXX,BUG,REFACTOR"
          case_sensitive: false
        message: "{0} comment found"
        fix_hint: "Create a work item to track this and remove the comment"

      unreachable_code:
        id: CS-CODE-002
        name: "Unreachable Code"
        description: "Detects code that will never execute"
        enabled: true
        severity: warning
        message: "Unreachable code detected after terminating statement"
        fix_hint: "Remove the unreachable code or fix the control flow"

      empty_blocks:
        id: CS-CODE-003
        name: "Empty Blocks"
        description: "Detects empty if, else, finally, try blocks and loops"
        enabled: true
        severity: warning
        parameters:
          check_if: true
          check_else: true
          check_try: true
          check_finally: true
          check_loops: true
          check_switch_cases: true

      long_lines:
        id: CS-CODE-004
        name: "Long Lines"
        description: "Lines should not exceed 120 characters"
        enabled: true
        severity: info
        parameters:
          max_length: 120
          ignore_urls: true
          ignore_strings: true
          ignore_comments: false

      multiple_returns:
        id: CS-CODE-005
        name: "Multiple Returns"
        description: "Methods should have limited return statements"
        enabled: true
        severity: info
        parameters:
          max_returns: 3
          allow_guard_clauses: true

      unused_variables:
        id: CS-CODE-006
        name: "Unused Variables"
        description: "Detects variables that are declared but never used"
        enabled: true
        severity: warning
        parameters:
          ignore_underscore: true

      unused_parameters:
        id: CS-CODE-007
        name: "Unused Parameters"
        description: "Detects method parameters that are never used"
        enabled: true
        severity: warning
        parameters:
          ignore_underscore: true
          ignore_overrides: true
          ignore_interface_impl: true
          ignore_event_handlers: true

      string_concat_in_loop:
        id: CS-CODE-009
        name: "String Concatenation in Loop"
        description: "Avoid string concatenation in loops; use StringBuilder"
        enabled: true
        severity: warning
        message: "String concatenation in loop causes O(n²) allocations"
        fix_hint: "Use StringBuilder instead"

  # ===========================================================================
  # CROSS-LANGUAGE RULES
  # Rules that apply to all supported languages
  # ===========================================================================
  cross_language:
    enabled: true
    severity: medium
    rules:

      xl_method_length:
        id: XL-DESIGN-001
        name: "Method Length (Cross-Language)"
        description: "Methods should not exceed 30 lines"
        enabled: true
        severity: warning
        parameters:
          max_lines: 30
          count_blank_lines: false
          count_comments: false

      xl_parameter_count:
        id: XL-DESIGN-002
        name: "Parameter Count (Cross-Language)"
        description: "Functions should not have too many parameters"
        enabled: true
        severity: warning
        parameters:
          max_parameters: 4
          exclude_constructors: false

      xl_cyclomatic_complexity:
        id: XL-DESIGN-003
        name: "Cyclomatic Complexity (Cross-Language)"
        description: "Functions should have low complexity"
        enabled: true
        severity: warning
        parameters:
          max_complexity: 10

      xl_naming:
        id: XL-NAME-001
        name: "Naming Conventions (Cross-Language)"
        description: "Checks naming conventions based on language standards"
        enabled: true
        severity: low
        parameters:
          class_style: pascal_case
          interface_style: pascal_case
          interface_prefix: "I"
          method_style: auto
          variable_style: auto
          constant_style: upper_snake_case

      xl_max_nesting_depth:
        id: XL-DESIGN-004
        name: "Max Nesting Depth (Cross-Language)"
        description: "Code should not have too many levels of nesting"
        enabled: true
        severity: error
        parameters:
          max_depth: 3

      xl_nested_loops:
        id: XL-DESIGN-005
        name: "Nested Loops (Cross-Language)"
        description: "Avoid nested loops which can cause O(n²) complexity"
        enabled: true
        severity: error
        parameters:
          max_nested_loops: 1

      xl_file_length:
        id: XL-DESIGN-006
        name: "File Length (Cross-Language)"
        description: "Files should not exceed 500 lines"
        enabled: true
        severity: warning
        parameters:
          max_lines: 500
          count_blank_lines: true

      xl_todo_comments:
        id: XL-CODE-001
        name: "TODO Comments (Cross-Language)"
        description: "Detects TODO, FIXME comments"
        enabled: true
        severity: info
        parameters:
          patterns: "TODO,FIXME,HACK,XXX,BUG"
          case_sensitive: false

      xl_long_lines:
        id: XL-CODE-002
        name: "Long Lines (Cross-Language)"
        description: "Lines should not exceed 120 characters"
        enabled: true
        severity: info
        parameters:
          max_length: 120
          ignore_urls: true
          ignore_imports: true

  # ===========================================================================
  # PYTHON-SPECIFIC RULES
  # ===========================================================================
  python:
    enabled: true
    severity: warning
    rules:

      pep8_naming:
        id: PY-NAME-001
        name: "PEP 8 Naming Conventions"
        description: "Enforces Python PEP 8 naming: snake_case for functions, PascalCase for classes"
        enabled: true
        severity: low
        parameters:
          allow_private_underscore: true

      missing_docstring:
        id: PY-DOC-001
        name: "Missing Docstring"
        description: "Public classes and functions should have docstrings"
        enabled: true
        severity: info
        parameters:
          require_class_docstring: true
          require_function_docstring: true
          min_function_length: 5
          skip_private: true

  # ===========================================================================
  # JAVASCRIPT/TYPESCRIPT-SPECIFIC RULES
  # ===========================================================================
  javascript:
    enabled: true
    severity: warning
    rules:

      no_console_log:
        id: JS-DEBUG-001
        name: "No Console Log"
        description: "console.log statements should not be in production code"
        enabled: true
        severity: warning
        parameters:
          allow_error_warn: true
          exclude_patterns:
            - "*.test.js"
            - "*.spec.js"
            - "*.test.ts"
            - "*.spec.ts"

      prefer_const_let:
        id: JS-VAR-001
        name: "Prefer Const/Let over Var"
        description: "Use const or let instead of var"
        enabled: true
        severity: error
        parameters:
          prefer_const: true

# =============================================================================
# PREBUILT POLICIES
# =============================================================================
prebuilt_policies:

  security:
    enabled: true
    severity: critical
    exclude:
      - "**/test/**"
      - "**/tests/**"

  async_best_practices:
    enabled: true
    severity: high

  naming_conventions:
    enabled: true
    severity: medium

  design_quality:
    enabled: true
    severity: medium

  exception_handling:
    enabled: true
    severity: high

  dependency_injection:
    enabled: true
    severity: warning

# =============================================================================
# CUSTOM RULES
# =============================================================================
custom_rules: []

# =============================================================================
# RULE SUMMARY (54 Total Rules)
# =============================================================================
# C# NAMING (7): CS-NAME-001 to CS-NAME-007
# C# DESIGN (16): CS-DESIGN-001 to CS-DESIGN-016
# C# ASYNC (3): CS-ASYNC-001 to CS-ASYNC-003
# C# EXCEPTIONS (4): CS-EXC-001 to CS-EXC-004
# C# SECURITY (5): CS-SEC-001 to CS-SEC-005
# C# DI (2): CS-DI-001, CS-DI-002
# C# CODE (9): CS-CODE-001 to CS-CODE-009
# CROSS-LANGUAGE (9): XL-DESIGN-001 to XL-DESIGN-006, XL-NAME-001, XL-CODE-001 to XL-CODE-002
# PYTHON (2): PY-NAME-001, PY-DOC-001
# JAVASCRIPT (2): JS-DEBUG-001, JS-VAR-001
#
# =============================================================================
# PARALLEX BANK STANDARDS COVERAGE
# =============================================================================
# Section 1 (Naming) → CS-NAME-001 to CS-NAME-007, XL-NAME-001
# Section 2 (File Organization) → CS-DESIGN-012
# Section 3 (Method Design) → CS-DESIGN-001 to CS-DESIGN-007, CS-CODE-008
# Section 4 (Secure Coding) → CS-SEC-001 to CS-SEC-005
# Section 5 (Exception Handling) → CS-EXC-001 to CS-EXC-004
# Section 6 (Async Programming) → CS-ASYNC-001 to CS-ASYNC-003
# Section 7 (Dependency Injection) → CS-DI-001, CS-DI-002
# Section 8 (Magic Numbers) → CS-DESIGN-008, CS-DESIGN-009
# Section 10 (Logging) → CS-SEC-005
# Section 12 (Immutability) → CS-DESIGN-013, CS-DESIGN-016
# =============================================================================
